name: Deploy Pipeline

on:
  pull_request:
    types: [opened, synchronize]

jobs:
  call-reusable-workflow:
    permissions:
      id-token: write  # Necesario para OIDC
      contents: read   # Necesario para checkout
    uses: ./.github/workflows/terraform-validate.yml
    with:
      environment: 'dev'  # Puede venir de una variable o condici√≥n
    secrets:
      AWS_ROLE_ARN: ${{ secrets.AWS_ROLE_ARN }}
